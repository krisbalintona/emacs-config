#+TITLE: Calendar integration


* Calendar
** Calfw-org

Better calendar view
#+begin_src emacs-lisp
  (use-package calfw) ; Requisite framework

  (use-package calfw-org
    :custom
    (cfw:org-overwrite-default-keybinding t)
    ;; Month
    (calendar-month-name-array
     ["Jan" "Feb" "Mar" "Apr" "May" "Jun"
      "Jul" "Aug" "Sep" "Oct" "Nov" "Dec"])

    ;; Week days
    (calendar-day-name-array
     ["Sun" "Mon" "Tue" "Wed" "Thu" "Fri" "Sat"])

    ;; First day of the week
    (calendar-week-start-day 1) ; 0:Sunday, 1:Monday

    :config
    ;; Calendar views
    (defun kb/calendar-school ()
      (interactive)
      (cfw:open-calendar-buffer
       :contents-sources
       (list
        (cfw:org-create-source "Green")  ; orgmode source
        ;; (cfw:ical-create-source "gcal" "https://..../basic.ics" "IndianRed") ; google calendar ICS
        )))

    ;; Grid frame
    (setq cfw:fchar-junction ?╋
          cfw:fchar-vertical-line ?┃
          cfw:fchar-horizontal-line ?━
          cfw:fchar-left-junction ?┣
          cfw:fchar-right-junction ?┫
          cfw:fchar-top-junction ?┯
          cfw:fchar-top-left-corner ?┏
          cfw:fchar-top-right-corner ?┓)

    ;; Calendar faces
    (custom-set-faces
     '(cfw:face-title ((t (:foreground "#f0dfaf" :weight bold :height 2.0 :inherit variable-pitch))))
     '(cfw:face-header ((t (:foreground "#d0bf8f" :weight bold))))
     '(cfw:face-sunday ((t :foreground "#cc9393" :background "grey10" :weight bold)))
     '(cfw:face-saturday ((t :foreground "#8cd0d3" :background "grey10" :weight bold)))
     '(cfw:face-holiday ((t :background "grey10" :foreground "#8c5353" :weight bold)))
     '(cfw:face-grid ((t :foreground "DarkGrey")))
     '(cfw:face-default-content ((t :foreground "#bfebbf")))
     '(cfw:face-periods ((t :foreground "cyan")))
     '(cfw:face-day-title ((t :background "grey10")))
     '(cfw:face-default-day ((t :weight bold :inherit cfw:face-day-title)))
     '(cfw:face-annotation ((t :foreground "RosyBrown" :inherit cfw:face-day-title)))
     '(cfw:face-disable ((t :foreground "DarkGray" :inherit cfw:face-day-title)))
     '(cfw:face-today-title ((t :background "#7f9f7f" :weight bold)))
     '(cfw:face-today ((t :background: "grey10" :weight bold)))
     '(cfw:face-select ((t :background "#2f2f2f")))
     '(cfw:face-toolbar ((t :foreground "Steelblue4" :background "Steelblue4")))
     '(cfw:face-toolbar-button-off ((t :foreground "Gray10" :weight bold)))
     '(cfw:face-toolbar-button-on ((t :foreground "Gray50" :weight bold))))
    )
#+end_src
** Org-gcal

Integration with Google Calendar
#+begin_src emacs-lisp
  (use-package org-gcal
    :disabled ; Haven't configured yet
    :custom
    (org-gcal-client-id "your-id-foo.apps.googleusercontent.com")
    (org-gcal-client-secret "your-secret")
    (org-gcal-file-alist '(("your-mail@gmail.com" .  "~/schedule.org")
                           ("another-mail@gmail.com" .  "~/task.org")))
    )
#+end_src
